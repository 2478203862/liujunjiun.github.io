define("/15game/v1/switchui/pagesBox.js",[],function(require,t){return function(t,e,i){function n(t,e){this.$page=e.pages.eq(t),this.seq=t,this.pagenum=this.$page.length,this.unTouched=e.unTouchedArr.indexOf(this.seq)>-1?!0:!1;var i="y"===e.axis?parseInt(this.$page.css("height")):parseInt(this.$page.css("width"));this.transArr=[-i*this.seq,-i*this.seq-i+1]}function s(e,i){if(this.options=t.extend({},p,i),this.transendEvent=this.getTransendEventName(),this.transitionName=this.getPrefixProp("transition"),this.transformName=this.getPrefixProp("transform"),this.ul=t(e),this.container=this.ul.parent(),this.pages=this.ul.children(),this.length=this.pages.length,this.axis=this.options.axis,this.changed=!1,this.unTouchedArr=[],0===this.length)return!1;if(this.options.unTouchedPages){var n=this;this.ul.find(this.options.unTouchedPages).each(function(){n.unTouchedArr.push(t(this).index())})}this._initPx(),this._initPageArr(),this.page=0,this.prePage=0,this.started=!1,this.moved=!1,this.animating=!1,this.startPos={},this.movePos={},this.endPos={},this.trans={},this.startTrans={},this.scaleSize=1,this.init()}n.prototype.isUntouched=function(){return this.unTouched},n.prototype.getPageTrans=function(){return this.transArr[0]},n.prototype.getWH=function(t){return"x"===t?this.$page.width():this.$page.height()},n.prototype.setCss=function(t,e){this.$page.css({width:t,height:e})};var o="PagesBox",r="pagesBox",a=e.document,h=["goPage","goStep","goNext","goPrev","goPresent","offTouch","onTouch"],p={speed:200,axis:"y",pages:"li",unTouchedPages:!1,threshold:50,loop:!1,easing:"cubic-bezier(.67,.13,.11,.96)",mouseMoveAvailable:!0,verticalStyle:!0,moveOutOfContainer:!1,initFn:!1,orientScale:!0,hash:!1};s.prototype.getPrefixProp=function(t){var e=a.createElement("div");if(t in e.style)return t;for(var i=["Moz","Webkit","O","ms"],n=t.charAt(0).toUpperCase()+t.substr(1),s=0;s<i.length;++s){var o=i[s]+n;if(o in e.style)return o}},s.prototype.getTransendEventName=function(){var t={transition:"transitionend",MozTransition:"transitionend",OTransition:"oTransitionEnd",WebkitTransition:"webkitTransitionEnd",msTransition:"MSTransitionEnd"};return t[this.getPrefixProp("transition")]||null},s.prototype._getTotalWH=function(){for(var t=0,e=0;e<this.pageArr.length;e++)t+=this.pageArr[e].getWH(this.axis);return t},s.prototype._setPageCss=function(t,e){for(var i=0;i<this.pageArr.length;i++)this.pageArr[i].setCss(t,e)},s.prototype._initPx=function(){function t(){var t=n;n=i,i=t}var e=this,i=a.documentElement.clientHeight,n=a.documentElement.clientWidth;e.options.orientScale&&(e.options.verticalStyle?(e.scaleSize=i>n?1:i/n,n>i&&t(),e.container[0].style[e.transformName+"-origin"]="50% 0"):(e.scaleSize=n>i?1:n/i,i>n&&t(),e.container[0].style[e.transformName+"-origin"]="0 0")),"y"===e.axis?(e.unitHeight=i,e.ul.css({width:n,height:this.length*i})):(e.unitHeight=n,e.ul.css({width:this.length*n,height:i})),e.pages.css({width:n,height:i}),e.container.css({width:n,height:i}),e.container[0].style[e.transformName]="scale3d("+e.scaleSize+","+e.scaleSize+",1)"},s.prototype._initPageArr=function(){var e=this;e.pageArr=[],e.pages.each(function(i,s){e.pageArr[i]=new n(t(this).index(),e)})},s.prototype.init=function(){var t=this;if(this._setTransform(0),this.handler={tstart:function(e){t._eventstart.call(t,e,!0)},tmove:function(e){t._eventmove.call(t,e,!0)},tend:function(e){t._eventend.call(t,e,!0)},mstart:function(e){t._eventstart.call(t,e,!1)},mmove:function(e){t._eventmove.call(t,e,!1)},mend:function(e){t._eventend.call(t,e,!1)}},a.addEventListener("touchstart",t.handler.tstart,!1),a.addEventListener("touchmove",t.handler.tmove,!1),a.addEventListener("touchend",t.handler.tend,!1),this.options.mouseMoveAvailable&&(a.addEventListener("mousedown",t.handler.mstart,!1),a.addEventListener("mousemove",t.handler.mmove,!1),a.addEventListener("mouseup",t.handler.mend,!1)),this.ul[0].addEventListener(t.transendEvent,function(e){t._transitionend.call(t,e),t.ul.trigger("transend",t.page)},!1),e.addEventListener("orientationchange",function(e){t.ul.css("visibility","hidden"),setTimeout(function(){t._initPx(),t._initPageArr(),t.goPage(t.page,t.page,1),t.ul.css("visibility","visible"),t.ul.trigger("orientchange",t.page)},300)},!1),this.options.hash){var i=parseInt(location.hash.substring(1));i=isNaN(i)?0:i,this.page=i>=this.length?this.length-1:i,this.goPage(this.page,this.page,1),this.ul.css("visibility","visible")}this.options.initFn&&this.options.initFn()},s.prototype._eventstart=function(t,e){var i=e?t.changedTouches[0]:t;return this.started=!1,this.removeTrans(),this.startPos={x:i.pageX,y:i.pageY},this.startTrans=this._getTrans(),this._isUntouched(this.page)?!1:(this.started=!0,this.moved=!1,void(this.startTime=t.timeStamp))},s.prototype._eventmove=function(t,e){if(this.started){this.moved=!0,t.preventDefault();var i=e?t.changedTouches[0]:t;this.movePos={x:i.pageX,y:i.pageY},this.moveTime=t.timeStamp;var n=this.movePos[this.axis]-this.startPos[this.axis];(this.options.moveOutOfContainer||!(n>0&&0==this.page||0>n&&this.page==this.length-1))&&this.goStep(this._getPageTrans()+n)}},s.prototype._eventend=function(t,e){if(this.started){this.moved=!1,this.started=!1;var i=e?t.changedTouches[0]:t;this.endPos={x:i.pageX,y:i.pageY};var n=this.endPos[this.axis]-this.startPos[this.axis];this.trans=this._getTrans(),this.endTime=t.timeStamp,0!==n&&(n>=this.options.threshold?this.goPrev():n<=-this.options.threshold?this.goNext():this.goPresent())}},s.prototype._getPageIndex=function(t){if(t<this.pageArr[0])return-1;for(var e=0;e<this.pageArr.length;e++)if(t<=this.pageArr[e][1]&&t>=this.pageArr[e][0])return e;return e},s.prototype._getTrans=function(){var t,e=this.ul[0].style[this.transformName]||"",i=e.match(/translate3d\((.*)\)/);return i&&0!=i.length?t=i[1].split(","):(this.ul[0].style[this.transformName]=e.replace(/translate3d\(.*\)(\s+)*/,"")+" translate3d(0,0,0)",t=[0,0,0]),{x:parseInt(t[0],10),y:parseInt(t[1],10)}},s.prototype._transitionend=function(t){var e=this;this.animating=!1,this.options.transEndCb&&this.options.transEndCb.call(e,e.page)},s.prototype.getAxis=function(){return this.options.axis},s.prototype.goStep=function(t){this.trans[this.axis]=t,this._setTransform(t)},s.prototype._isUntouched=function(t){return"undefined"==typeof t&&(t=this.page),this.pageArr[t].isUntouched()},s.prototype._pageEventmove=function(t,e){"undefined"==typeof e&&(e=this.page),this.getPageTrans+movestep},s.prototype._pageEventend=function(t){this.pageArr[this.page].eventend(t)},s.prototype._getPageTrans=function(t){return"undefined"==typeof t&&(t=this.page),this.pageArr[t].getPageTrans()},s.prototype._setTransform=function(t){var e=this.ul[0].style[this.transformName];e=e.replace(/translate3d\(.*\)(\s+)*/,""),"y"===this.axis?this.ul[0].style[this.transformName]=e+" translate3d(0,"+t+"px,0)":this.ul[0].style[this.transformName]=e+" translate3d("+t+"px,0,0)"},s.prototype.goPage=function(t,e,i){this.page=t,this.options.hash&&(location.hash="#"+t),"undefined"==typeof e&&(e=this.page),"undefined"!=typeof i&&i?this.removeTrans():this.addTrans(),t>=this.length?t=e>=this.length?this.length-1:e:0>t&&(t=0);var n=this._getPageTrans(t);this._setTransform(n),t===e||i?this.animating=!1:this.animating=!0,this.ul.trigger("gopage",[t,e])},s.prototype.goNext=function(){var t=this.page;t>=this.length-1?this.options.loop&&(t=0):t++,this.goPage(t,this.page)},s.prototype.goPrev=function(){var t=this.page;t>=1?t--:t=this.options.loop?this.length:0,this.goPage(t,this.page)},s.prototype.goPresent=function(){this.goPage(this.page,this.page)},s.prototype.offTouch=function(){var t=this;a.removeEventListener("touchstart",t.handler.tstart,!1),a.removeEventListener("touchmove",t.handler.tmove,!1),a.removeEventListener("touchend",t.handler.tend,!1),this.options.mouseMoveAvailable&&(a.removeEventListener("mousedown",t.handler.mstart,!1),a.removeEventListener("mousemove",t.handler.mmove,!1),a.removeEventListener("mouseup",t.handler.mend,!1))},s.prototype.onTouch=function(){this.offTouch();var t=this;a.addEventListener("touchstart",t.handler.tstart,!1),a.addEventListener("touchmove",t.handler.tmove,!1),a.addEventListener("touchend",t.handler.tend,!1),this.options.mouseMoveAvailable&&(a.addEventListener("mousedown",t.handler.mstart,!1),a.addEventListener("mousemove",t.handler.mmove,!1),a.addEventListener("mouseup",t.handler.mend,!1))},s.prototype.addTrans=function(){this.ul[0].style[this.transitionName]="all "+this.options.speed/1e3+"s "+this.options.easing},s.prototype.removeTrans=function(){this.ul[0].style[this.transitionName]="all 0 linear"},t.fn[o]=t.fn[r]=function(e){if("string"==typeof e){var i=arguments,n=e,r=function(){for(var t=0;t<h.length;t++)if(h[t]===n)return!0;return!1};if(Array.prototype.shift.call(i),"check"==n)return!!this.data("plugin_"+o);if(r())return this.each(function(){var e=t(this).data("plugin_"+o);e&&e[n]&&e[n].apply(e,i)});throw new TypeError(o+' has no method "'+n+'"')}return this.each(function(){var i=t(this).data("plugin_"+o);i||t(this).data("plugin_"+o,new s(this,e))})}}});